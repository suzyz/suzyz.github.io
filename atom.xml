<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Suzy Zhang</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://suzyz.github.io/"/>
  <updated>2019-03-29T12:05:57.000Z</updated>
  <id>https://suzyz.github.io/</id>
  
  <author>
    <name>Suzy Zhang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LeetCode/Knight Dialer</title>
    <link href="https://suzyz.github.io/2019/03/29/knight-dialer/"/>
    <id>https://suzyz.github.io/2019/03/29/knight-dialer/</id>
    <published>2019-03-29T11:14:44.000Z</published>
    <updated>2019-03-29T12:05:57.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Place a knight on a phone pad, and let it hop N-1 times between the numbered keys, generating a N-digit number. Find how many distinct numbers we can dial in this manner.</p><a id="more"></a><p>The keypad:<br><img src="/2019/03/29/knight-dialer/keypad.png" alt=""></p><p>The knight can move in 8 ways.</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>Let Xn,i be the number of n-digit numbers ending with digit i.</p><p>By observing the keypad, we can draw these conclusions:</p><ol><li><p>A knight can’t make any hop from 5 or to 5. So the only number with digit 5 that we can dial is “5”. That is, X1,5 = 1 and Xn,5 = 0 (n &gt; 1).</p></li><li><p>1, 3, 7, 9 are symmetrical (and the 8 moves of the knight are symmetrical). So Xn,1 = Xn,3 = Xn,7 = Xn,9.</p></li><li><p>Similarly, Xn,2 = X,8</p></li><li><p>Xn,4 = Xn,6</p></li><li><p>Xn+1,0 = Xn,4 + Xn,6 = 2 &times; Xn,4</p><p>Xn+1,1 = Xn,2 + Xn,4</p><p>Xn+1,2 = Xn,7 + Xn,9 = 2 &times; Xn,1</p><p>Xn+1,4 = Xn,0 + Xn,3 + Xn,9 = Xn,0 + 2 &times; Xn,1</p></li></ol><p>Let Xn = (Xn,0, Xn,1, Xn,2, Xn,4)’, then we have:<br>    Xn+1 = A &middot; Xn</p><p>A is a 4 by 4 matrix:</p><p>0 0 0 2<br>0 0 1 1<br>0 2 0 0<br>1 2 0 0</p><p>The answer is sigma Xn,i (0 &le; i &le; 9) = XN,0 + 4 &times; XN,1 + 2 &times; XN,2 + 2 &times; XN,4 (N &gt; 1).</p><p>So we can calculate Xn,i recursively, which takes O(N) time. Or use fast power to calculate A^(N-1) and get the answer, which takes O(logN) time.</p><h1 id="Code-1-O-N"><a href="#Code-1-O-N" class="headerlink" title="Code 1: O(N)"></a>Code 1: O(N)</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> mo = <span class="number">1e9</span> + <span class="number">7</span>;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">knightDialer</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = (n == <span class="number">1</span>) + helper(n<span class="number">-1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span> ans % mo;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> x0, <span class="keyword">int</span> x1, <span class="keyword">int</span> x2, <span class="keyword">int</span> x4)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">long</span> <span class="keyword">long</span> res = (<span class="keyword">long</span> <span class="keyword">long</span>)x1*<span class="number">4</span> + x2*<span class="number">2</span> + x4*<span class="number">2</span> + x0;</div><div class="line">            <span class="keyword">return</span> res % mo;</div><div class="line">        &#125; <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> helper(n<span class="number">-1</span>, x4*<span class="number">2</span>%mo, (x2 + x4)%mo, x1*<span class="number">2</span>%mo, ((<span class="keyword">long</span> <span class="keyword">long</span>)x1*<span class="number">2</span> + x0)%mo);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><h1 id="Code-2-O-logN"><a href="#Code-2-O-logN" class="headerlink" title="Code 2: O(logN)"></a>Code 2: O(logN)</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> mo = <span class="number">1e9</span> + <span class="number">7</span>;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">knightDialer</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">10</span>;</div><div class="line">        </div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; a(<span class="number">4</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">4</span>)), b(<span class="number">4</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">4</span>));</div><div class="line">        a[<span class="number">0</span>][<span class="number">3</span>] = a[<span class="number">2</span>][<span class="number">1</span>] = a[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">2</span>;</div><div class="line">        a[<span class="number">1</span>][<span class="number">2</span>] = a[<span class="number">1</span>][<span class="number">3</span>] = a[<span class="number">3</span>][<span class="number">0</span>] = b[<span class="number">0</span>][<span class="number">0</span>] = b[<span class="number">1</span>][<span class="number">1</span>] = b[<span class="number">2</span>][<span class="number">2</span>] = b[<span class="number">3</span>][<span class="number">3</span>] = <span class="number">1</span>;</div><div class="line">  </div><div class="line">        --n;</div><div class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (n&amp;<span class="number">1</span>)</div><div class="line">                multi(b, a);</div><div class="line">            </div><div class="line">            multi(a, a);</div><div class="line">            n &gt;&gt;= <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j)</div><div class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>)</div><div class="line">                    ans += b[i][j];</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span>)</div><div class="line">                    ans += (<span class="keyword">long</span> <span class="keyword">long</span>)b[i][j]*<span class="number">4</span>%mo;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    ans += (<span class="keyword">long</span> <span class="keyword">long</span>)b[i][j]*<span class="number">2</span>%mo;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> ans % mo;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">multi</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;a, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;b)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; c(<span class="number">4</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">4</span>));</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</div><div class="line">                <span class="keyword">long</span> <span class="keyword">long</span> tmp = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k)</div><div class="line">                    tmp = ((<span class="keyword">long</span> <span class="keyword">long</span>)a[i][k] * b[k][j] % mo + tmp) % mo;</div><div class="line">                c[i][j] = tmp;</div><div class="line">            &#125;</div><div class="line">        </div><div class="line">        a = c;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Place a knight on a phone pad, and let it hop N-1 times between the numbered keys, generating a N-digit number. Find how many distinct numbers we can dial in this manner.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="DP" scheme="https://suzyz.github.io/tags/DP/"/>
    
      <category term="DFS" scheme="https://suzyz.github.io/tags/DFS/"/>
    
      <category term="Math" scheme="https://suzyz.github.io/tags/Math/"/>
    
      <category term="Fast power" scheme="https://suzyz.github.io/tags/Fast-power/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode/Regions Cut by Slashes</title>
    <link href="https://suzyz.github.io/2019/03/29/regions-cut-by-slashes/"/>
    <id>https://suzyz.github.io/2019/03/29/regions-cut-by-slashes/</id>
    <published>2019-03-29T09:19:00.000Z</published>
    <updated>2019-03-29T10:13:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Given a N &times; N grid of 1 &times; 1 squares, each square consists of a ‘/‘, ‘\’, or blank space. Find the number of regions.</p><a id="more"></a><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>First, we split every square into two parts: the upper part and the lower part, and build a new graph.</p><p>As the following image shows, there are three cases:</p><p><img src="/2019/03/29/regions-cut-by-slashes/1.png" alt=""></p><p>Square (i, j) is now two nodes a = (i &times; n + j) &times; 2 + 1 and b = a + 1.</p><p>If s[i][j] == ‘ ‘, then we connect a and b. Otherwise a and b shouldn’t be connected.<br>Then we need to connect square (i, j) with square (i + 1, j) and (i, j + 1).</p><ol><li><p>Between (i, j) and (i + 1, j) : we only need to connect b to the upper part of (i + 1, j), which is a + 2 &times; n.</p></li><li><p>Between (i, j) and (i + 1, j) : we connect the right part of (i, j) and the left part of (i + 1, j).</p></li></ol><p>After this, we can easily find the number of connected components of the new graph with union-find.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; fa;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getfa</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (x == fa[x])</div><div class="line">            <span class="keyword">return</span> x;</div><div class="line">        fa[x] = getfa(fa[x]);</div><div class="line">        <span class="keyword">return</span> fa[x];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">unify</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> a = getfa(x), b = getfa(y);</div><div class="line">        <span class="keyword">if</span> (a != b)</div><div class="line">            fa[a] = b;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">regionsBySlashes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; g)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n = g.size();</div><div class="line">        <span class="keyword">int</span> tot = n * n * <span class="number">2</span>;</div><div class="line">        </div><div class="line">        fa = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(tot+<span class="number">1</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= tot; ++i)</div><div class="line">            fa[i] = i;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</div><div class="line">                <span class="keyword">int</span> a = (i*n + j) * <span class="number">2</span> + <span class="number">1</span>;</div><div class="line">                <span class="keyword">int</span> b = a + <span class="number">1</span>;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> (g[i][j] == <span class="string">' '</span>)</div><div class="line">                    unify(a, b);</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> (j &lt; n<span class="number">-1</span>) &#123;</div><div class="line">                    <span class="keyword">int</span> x = g[i][j] == <span class="string">'/'</span> ? b : a;</div><div class="line">                    <span class="keyword">int</span> y = g[i][j+<span class="number">1</span>] == <span class="string">'/'</span> ? b+<span class="number">1</span> : b+<span class="number">2</span>;</div><div class="line">                    unify(x, y);</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> (i &lt; n<span class="number">-1</span>)</div><div class="line">                    unify(b, a + <span class="number">2</span>*n);</div><div class="line">            &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= tot; ++i)</div><div class="line">            <span class="keyword">if</span> (fa[i] == i)</div><div class="line">                ++ans;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Given a N &amp;times; N grid of 1 &amp;times; 1 squares, each square consists of a ‘/‘, ‘\’, or blank space. Find the number of regions.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="Union-find" scheme="https://suzyz.github.io/tags/Union-find/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode/Edit Distance</title>
    <link href="https://suzyz.github.io/2017/11/29/edit-distance/"/>
    <id>https://suzyz.github.io/2017/11/29/edit-distance/</id>
    <published>2017-11-29T12:39:15.000Z</published>
    <updated>2019-03-29T12:48:03.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Given two words word1 and word2, find the minimum number of steps required to convert word1 to word2. (each operation is counted as 1 step.)</p><a id="more"></a><p>You have the following 3 operations permitted on a word:</p><p>(1) Insert a character<br>(2) Delete a character<br>(3) Replace a character</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>We can solve this problem with dynamic programming.<br>Suppose we are going to convert S[0…N] to T[0…M] and we take all operations from left to right, with the minimal number of steps being f[N][M]. </p><p>If S[N] == T[M], f[N][M] = f[N-1][M-1]. Otherwise, we have three cases:</p><ol><li><p>Convert S[0…N] to T[0…M-1], then insert T[M] to the end of S. This will cost f[N][M-1] + 1.</p></li><li><p>Convert S[0…N-1] to T[0…M], then delete S[N]. This will cost f[N-1][M] + 1.</p></li><li><p>Convert S[0…N-1] to T[0…M-1], then replace S[N] with T[M]. This will cost f[N-1][M-1] + 1. </p></li></ol><h1 id="Code-1-O-N-M-space"><a href="#Code-1-O-N-M-space" class="headerlink" title="Code 1: O(N*M) space"></a>Code 1: O(N*M) space</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(<span class="built_in">string</span> w1, <span class="built_in">string</span> w2)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n = w1.length(), m = w2.length();</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> m;</div><div class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> n;</div><div class="line">        </div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; f(n+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m+<span class="number">1</span>));</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</div><div class="line">            f[<span class="number">0</span>][j] = j;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">            f[i][<span class="number">0</span>] = i;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j) &#123;</div><div class="line">                <span class="keyword">if</span> (w1[i<span class="number">-1</span>] == w2[j<span class="number">-1</span>])</div><div class="line">                    f[i][j] = f[i<span class="number">-1</span>][j<span class="number">-1</span>];</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    f[i][j] = min(f[i<span class="number">-1</span>][j<span class="number">-1</span>], min(f[i<span class="number">-1</span>][j], f[i][j<span class="number">-1</span>])) + <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> f[n][m];</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><h1 id="Code-2-O-M-space"><a href="#Code-2-O-M-space" class="headerlink" title="Code 2: O(M) space"></a>Code 2: O(M) space</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(<span class="built_in">string</span> w1, <span class="built_in">string</span> w2)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n = w1.length(), m = w2.length();</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> m;</div><div class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> n;</div><div class="line">        </div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f(m+<span class="number">1</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</div><div class="line">            f[j] = j;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">            <span class="keyword">int</span> pre = f[<span class="number">0</span>]; <span class="comment">// pre : f[i-1][j-1]</span></div><div class="line">            f[<span class="number">0</span>] = i;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j) &#123;</div><div class="line">                <span class="keyword">int</span> tmp = f[j];</div><div class="line">                f[j] = min(min(f[j], f[j<span class="number">-1</span>]) + <span class="number">1</span>, pre + (w1[i<span class="number">-1</span>] == w2[j<span class="number">-1</span>] ? <span class="number">0</span> : <span class="number">1</span>));</div><div class="line">                pre = tmp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> f[m];</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Given two words word1 and word2, find the minimum number of steps required to convert word1 to word2. (each operation is counted as 1 step.)&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="DP" scheme="https://suzyz.github.io/tags/DP/"/>
    
      <category term="String" scheme="https://suzyz.github.io/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode/Validate Binary Search Tree</title>
    <link href="https://suzyz.github.io/2017/11/19/validate-binary-search-tree2/"/>
    <id>https://suzyz.github.io/2017/11/19/validate-binary-search-tree2/</id>
    <published>2017-11-19T08:52:43.000Z</published>
    <updated>2017-11-19T09:21:22.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Given a binary tree, determine if it is a binary search tree.</p><a id="more"></a><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>I have wrote about this problem before: <a href="https://suzyz.github.io/2017/10/14/validate-binary-search-tree/">https://suzyz.github.io/2017/10/14/validate-binary-search-tree/</a></p><p>Now I would like to implement Solution 2 in that post. That is, carry out an inorder traversal with the help of a stack.</p><p>It is relatively harder to code, but not much work actually.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for a binary tree node.</div><div class="line"> * struct TreeNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     TreeNode *left;</div><div class="line"> *     TreeNode *right;</div><div class="line"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</div><div class="line"> * &#125;;</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isValidBST</span><span class="params">(TreeNode* root)</span> </span>&#123;</div><div class="line">        <span class="built_in">stack</span>&lt;TreeNode *&gt; st;</div><div class="line">        TreeNode *pre = <span class="literal">NULL</span>;</div><div class="line">        <span class="keyword">while</span> (root != <span class="literal">NULL</span> || !st.empty())</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">while</span> (root != <span class="literal">NULL</span>)</div><div class="line">            &#123;</div><div class="line">                st.push(root);</div><div class="line">                root = root-&gt;left;</div><div class="line">            &#125;</div><div class="line">            TreeNode *cur = st.top();</div><div class="line">            st.pop();</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (pre != <span class="literal">NULL</span> &amp;&amp; cur-&gt;val &lt;= pre-&gt;val)</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">            pre = cur;</div><div class="line">            root = cur-&gt;right;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Given a binary tree, determine if it is a binary search tree.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="Binary Search Tree" scheme="https://suzyz.github.io/tags/Binary-Search-Tree/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode/Happy Number</title>
    <link href="https://suzyz.github.io/2017/11/13/happy-number/"/>
    <id>https://suzyz.github.io/2017/11/13/happy-number/</id>
    <published>2017-11-13T12:08:08.000Z</published>
    <updated>2017-11-13T12:31:34.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Write an algorithm to determine if a number is “happy”.</p><a id="more"></a><p>A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers.</p><p>Example: 19 is a happy number</p><p>1^2 + 9^2 = 82<br>8^2 + 2^2 = 68<br>6^2 + 8^2 = 100<br>1^2 + 0^2 + 0^2 = 1</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>At first I used a hash table (unordered_set in STL) to record the numbers and find loops (see Code 2). But this takes extra space and is slower than Floyd’s cycle-finding algorithm. You can find the definition on Wikipedia (<a href="https://en.wikipedia.org/wiki/Cycle_detection#Floyd.27s_Tortoise_and_Hare" target="_blank" rel="external">Floyd’s cycle-finding algorithm</a>).</p><p>The algorithm works with two “pointers”, A and B. A moves twice faster than B. So if there is any loop, A and B will finally meet. In this problem, 1 leads to 1, so they will meet whether the number is happy or not.</p><h1 id="Code-1-With-Floyd’s-cycle-finding-algorithm"><a href="#Code-1-With-Floyd’s-cycle-finding-algorithm" class="headerlink" title="Code 1: With Floyd’s cycle-finding algorithm"></a>Code 1: With Floyd’s cycle-finding algorithm</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> slow = digit_square(n);</div><div class="line">        <span class="keyword">int</span> fast = digit_square(slow);</div><div class="line">        <span class="keyword">while</span> (slow != fast)</div><div class="line">        &#123;</div><div class="line">        slow = digit_square(slow);</div><div class="line">            fast = digit_square(digit_square(fast));</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> (slow == <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">digit_square</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>,tmp;</div><div class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            tmp = n%<span class="number">10</span>;</div><div class="line">            sum += tmp*tmp;</div><div class="line">            n/=<span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><h1 id="Code-2-With-hash-table"><a href="#Code-2-With-hash-table" class="headerlink" title="Code 2: With hash table"></a>Code 2: With hash table</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">        <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; vis;</div><div class="line"></div><div class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</div><div class="line">        &#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>,tmp;</div><div class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">        tmp = n%<span class="number">10</span>;</div><div class="line">        sum += tmp*tmp;</div><div class="line">        n/=<span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (sum == <span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span> (vis.count(sum))</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">        vis.insert(sum);</div><div class="line">        n = sum;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Write an algorithm to determine if a number is “happy”.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="Graph Theory" scheme="https://suzyz.github.io/tags/Graph-Theory/"/>
    
      <category term="Cycle Detection" scheme="https://suzyz.github.io/tags/Cycle-Detection/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode/Minimum Height Tree</title>
    <link href="https://suzyz.github.io/2017/11/12/minimum-height-tree/"/>
    <id>https://suzyz.github.io/2017/11/12/minimum-height-tree/</id>
    <published>2017-11-12T01:39:27.000Z</published>
    <updated>2017-11-14T15:26:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>For an undirected graph with tree characteristics, we can choose any node as the root. The result graph is then a rooted tree. Among all possible rooted trees, those with minimum height are called minimum height trees (MHTs). Given such a graph, find all roots of the MHTs.</p><a id="more"></a><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>There is a great analysis on LeetCode:</p><p> <a href="https://discuss.leetcode.com/topic/30572/share-some-thoughts" target="_blank" rel="external">https://discuss.leetcode.com/topic/30572/share-some-thoughts</a></p><p>I tried a few ways to solve the problem, but mostly ended with TLE (time limit exceeded). Then I read the article mentioned, and felt really inspired.</p><p>I realize that it is important to start analyzing the problem from simple cases. For example, consider line graphs before getting to more complicated graphs.</p><p>Line graphs look like doubly linked lists. So the root(s) of MHT is the node at the middle of the graph. We can use two pointers to find it. Let each pointer start from one end of the graph and move at the same speed, until they meet or they are next to each other.</p><p>With more complex graphs, we need K pointers, if the graph has K leaves(nodes whose degree is 1). We let them move at the same speed towards the center of the graph. When two or more pointers meet, we merge them and keep going. When the pointers meet or are next to each other (in which case there are only two pointers left), we find the root(s).</p><p>The process looks like peeling an apple. Or, keep peeling leaves from a “tree”. So when it comes to implementation, we can use topological sort to simulate it.</p><p>Plus, there is a little trick with regard to coding. When we iterate through the leaves, we only need to update the information of one node since any leave only connects to one node. That is the difference between Code 1 and Code 2.</p><h1 id="Code-1"><a href="#Code-1" class="headerlink" title="Code 1"></a>Code 1</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findMinHeightTrees(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;&amp; edges) &#123;</div><div class="line">        <span class="keyword">if</span> (n==<span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (edges.size() == <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>,<span class="number">0</span>);</div><div class="line">        <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;&gt; g(n);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edges.size(); ++i)</div><div class="line">        &#123;</div><div class="line">        <span class="keyword">int</span> a = edges[i].first, b = edges[i].second;</div><div class="line">        g[a].insert(b);</div><div class="line">        g[b].insert(a);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; leaves;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</div><div class="line">        <span class="keyword">if</span> (g[i].size() == <span class="number">1</span>)</div><div class="line">        leaves.push_back(i);</div><div class="line">        </div><div class="line">        n -= leaves.size();</div><div class="line">        <span class="keyword">while</span> (n)</div><div class="line">        &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; new_leaves;</div><div class="line">       </div><div class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; leaves.size(); ++i)</div><div class="line">       &#123;</div><div class="line">       <span class="keyword">int</span> cur = leaves[i];</div><div class="line">       <span class="keyword">for</span> (<span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;::iterator j = g[cur].begin(); j != g[cur].end(); )</div><div class="line">        &#123;</div><div class="line">        g[*j].erase(cur);</div><div class="line">        <span class="keyword">if</span> (g[*j].size() == <span class="number">1</span>)</div><div class="line">        &#123;</div><div class="line">        new_leaves.push_back(*j);</div><div class="line">        j = g[cur].erase(j);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        ++j;</div><div class="line">        &#125;</div><div class="line">       &#125;</div><div class="line">        leaves = new_leaves;</div><div class="line">        n -= leaves.size();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> leaves;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><h1 id="Code-2"><a href="#Code-2" class="headerlink" title="Code 2"></a>Code 2</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findMinHeightTrees(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;&amp; edges) &#123;</div><div class="line">        <span class="keyword">if</span> (n==<span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (edges.size() == <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>,<span class="number">0</span>);</div><div class="line">        <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;&gt; g(n);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edges.size(); ++i)</div><div class="line">        &#123;</div><div class="line">        <span class="keyword">int</span> a = edges[i].first, b = edges[i].second;</div><div class="line">        g[a].insert(b);</div><div class="line">        g[b].insert(a);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; leaves;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</div><div class="line">        <span class="keyword">if</span> (g[i].size() == <span class="number">1</span>)</div><div class="line">        leaves.push_back(i);</div><div class="line">        </div><div class="line">        n -= leaves.size();</div><div class="line">        <span class="keyword">while</span> (n)</div><div class="line">        &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; new_leaves;</div><div class="line">       </div><div class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; leaves.size(); ++i)</div><div class="line">       &#123;</div><div class="line">       <span class="keyword">int</span> cur = leaves[i];</div><div class="line"></div><div class="line">                <span class="comment">/* Because cur is a leaf, it is only connected to one other node. */</span></div><div class="line">                <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;::iterator j = g[cur].begin();</div><div class="line">       </div><div class="line">        g[*j].erase(cur);</div><div class="line">        <span class="keyword">if</span> (g[*j].size() == <span class="number">1</span>)</div><div class="line">        &#123;</div><div class="line">        new_leaves.push_back(*j);</div><div class="line">        g[cur].erase(j);</div><div class="line">        &#125;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">        leaves = new_leaves;</div><div class="line">        n -= leaves.size();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> leaves;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;For an undirected graph with tree characteristics, we can choose any node as the root. The result graph is then a rooted tree. Among all possible rooted trees, those with minimum height are called minimum height trees (MHTs). Given such a graph, find all roots of the MHTs.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="Tree" scheme="https://suzyz.github.io/tags/Tree/"/>
    
      <category term="Topological Sorting" scheme="https://suzyz.github.io/tags/Topological-Sorting/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode/Recover Binary Search Tree</title>
    <link href="https://suzyz.github.io/2017/11/11/recover-binary-search-tree/"/>
    <id>https://suzyz.github.io/2017/11/11/recover-binary-search-tree/</id>
    <published>2017-11-11T07:58:50.000Z</published>
    <updated>2017-11-11T09:23:23.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Two elements of a binary search tree are swapped. Recover the tree by swapping them again.</p><a id="more"></a><h1 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution 1"></a>Solution 1</h1><p>We can get the inorder traversal of the tree, and then the two nodes needed are easy to find. The time and space complexities are both O(N).</p><h1 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution 2"></a>Solution 2</h1><p>Suppose the two swapped nodes are i and j, their values being vi and vj (vi &gt; vj). Then there are two possible situations:</p><ol><li><p>i and j are adjacent in the inorder traversal of the tree.</p></li><li><p>Otherwise, there would be two nodes x and y, whose values being vx and vy, such that x is the successor of i in the inorder traversal, and y is the predecessor of j.</p></li></ol><p>To find i and j, we use inorder traversal.<br>We can use two pointers p and q to remember the pointers to i and j, and a pointer pre to remember the predecessor of the current node. During the traversal, if we find that pre-&gt;val &gt; cur-&gt;val, then we check p. If p has not been assigned with any value, we let p = pre and q = cur; else, we only let q = cur.<br>After the search, we switch the two nodes that p and q point to.</p><p>The time complexity of this method is also O(N), but the space it requires is only O(1).</p><h1 id="Code-for-Solution-2"><a href="#Code-for-Solution-2" class="headerlink" title="Code for Solution 2"></a>Code for Solution 2</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for a binary tree node.</div><div class="line"> * struct TreeNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     TreeNode *left;</div><div class="line"> *     TreeNode *right;</div><div class="line"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</div><div class="line"> * &#125;;</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    TreeNode *p = <span class="literal">NULL</span>, *q = <span class="literal">NULL</span>, *pre = <span class="literal">NULL</span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">recoverTree</span><span class="params">(TreeNode* root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</div><div class="line">    <span class="keyword">return</span>;</div><div class="line"></div><div class="line">    dfs(root);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (p &amp;&amp; q)</div><div class="line">    &#123;</div><div class="line">    <span class="keyword">int</span> tmp = p-&gt;val;</div><div class="line">    p-&gt;val = q-&gt;val;</div><div class="line">    q-&gt;val = tmp;</div><div class="line">    &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode *root)</span></span></div><div class="line">    &#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</div><div class="line">    <span class="keyword">return</span>;</div><div class="line"></div><div class="line">    dfs(root-&gt;left);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (pre != <span class="literal">NULL</span> &amp;&amp; root-&gt;val &lt; pre-&gt;val)</div><div class="line">    &#123;</div><div class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</div><div class="line">    &#123;</div><div class="line">    p = pre;</div><div class="line">    q = root;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    q = root;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    pre = root;</div><div class="line">    dfs(root-&gt;right);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Two elements of a binary search tree are swapped. Recover the tree by swapping them again.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LeetCode" scheme="https://suzyz.github.io/tags/LeetCode/"/>
    
      <category term="DFS" scheme="https://suzyz.github.io/tags/DFS/"/>
    
      <category term="Binary Search Tree" scheme="https://suzyz.github.io/tags/Binary-Search-Tree/"/>
    
  </entry>
  
  <entry>
    <title>LintCode/Wiggle Sort</title>
    <link href="https://suzyz.github.io/2017/11/11/wiggle-sort/"/>
    <id>https://suzyz.github.io/2017/11/11/wiggle-sort/</id>
    <published>2017-11-11T06:53:44.000Z</published>
    <updated>2019-03-28T10:15:01.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Given an unsorted array A, reorder it in-place such that A[0] &lt;= A[1] &gt;= A[2] &lt;= A[3]…</p><a id="more"></a><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>We can sort the array then reorder it, of course. But it would take us O(N*logN) time. Let us consider whether we can solve this in linear time.</p><p>Suppose we iterate through the array and are currently at A[i], with A[0] to A[i-1] already “sorted”.<br>If i is odd and A[i] &ge; A[i-1] (or i is even and A[i] &le; A[i-1]), then we can move on to A[i+1].<br>If not, we need to swap A[i] with A[i-1]. And this will not damage the work already done: if i is odd and A[i] &lt; A[i-1], we also have A[i-2] &ge; A[i-1], so A[i-2] &ge; A[i-1] &gt; A[i]. That is, the order between the (i-2)th number and (i-1)th number still maintains after the swap.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">/*</span></div><div class="line">     * @param nums: A list of integers</div><div class="line">     * @return: nothing</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n = nums.size();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; ++i)</div><div class="line">    <span class="keyword">if</span> ((i%<span class="number">2</span> &amp;&amp; nums[i] &lt; nums[i+<span class="number">1</span>]) || (!(i%<span class="number">2</span>) &amp;&amp; nums[i] &gt; nums[i+<span class="number">1</span>]))</div><div class="line">    swap(nums[i],nums[i+<span class="number">1</span>]);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Given an unsorted array A, reorder it in-place such that A[0] &amp;lt;= A[1] &amp;gt;= A[2] &amp;lt;= A[3]…&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="Array" scheme="https://suzyz.github.io/tags/Array/"/>
    
      <category term="LintCode" scheme="https://suzyz.github.io/tags/LintCode/"/>
    
  </entry>
  
  <entry>
    <title>LintCode/Sliding Window Unique Elements Sum</title>
    <link href="https://suzyz.github.io/2017/11/11/sliding-window-unique-elements-sum/"/>
    <id>https://suzyz.github.io/2017/11/11/sliding-window-unique-elements-sum/</id>
    <published>2017-11-11T06:18:56.000Z</published>
    <updated>2017-11-11T06:35:50.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Given an array and a window size that is sliding along the array, find the sum of the numbers of unique elements in each window.</p><a id="more"></a><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>We can use the container “unoreder_map” in STL to help us calculate the frequencies of numbers in the current window. It is actually using hash map (or hash table) to keep record of values, so the time complexity is O(N).</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">/*</span></div><div class="line">     * @param : the given array</div><div class="line">     * @param : the window size</div><div class="line">     * @return: the sum of the count of unique elements in each window</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">slidingWindowUniqueElementsSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n = nums.size();</div><div class="line">    <span class="keyword">if</span> (n &lt; k)</div><div class="line">    k = n;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (k == <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; count;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</div><div class="line">    ++count[nums[i]];</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;::iterator it = count.begin(); it != count.end(); ++it)</div><div class="line">    <span class="keyword">if</span> (it-&gt;second == <span class="number">1</span>)</div><div class="line">    ++ans;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; n; ++i)</div><div class="line">    &#123;</div><div class="line">    --count[nums[i-k]];</div><div class="line">    ++count[nums[i]];</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (count[nums[i-k]] == <span class="number">0</span>)</div><div class="line">    count.erase(nums[i-k]);</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;::iterator it = count.begin(); it != count.end(); ++it)</div><div class="line">    <span class="keyword">if</span> (it-&gt;second == <span class="number">1</span>)</div><div class="line">    ++ans;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Given an array and a window size that is sliding along the array, find the sum of the numbers of unique elements in each window.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="Array" scheme="https://suzyz.github.io/tags/Array/"/>
    
      <category term="LintCode" scheme="https://suzyz.github.io/tags/LintCode/"/>
    
  </entry>
  
  <entry>
    <title>LintCode/LRU Cache</title>
    <link href="https://suzyz.github.io/2017/11/05/lru-cache/"/>
    <id>https://suzyz.github.io/2017/11/05/lru-cache/</id>
    <published>2017-11-05T12:48:55.000Z</published>
    <updated>2017-11-05T13:42:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-Summary"><a href="#Problem-Summary" class="headerlink" title="Problem Summary"></a>Problem Summary</h1><p>Design and implement a data structure for Least Recently Used (LRU) cache. It should support the following operations: get and set.</p><a id="more"></a><ul><li><p>get(key) : Get the value (will always be positive) of the key if the key exists in the cache, otherwise return -1.</p></li><li><p>set(key, value) : Set or insert the value if the key is not already present. When the cache reached its capacity, it should invalidate the least recently used item before inserting a new item.</p></li></ul><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>We can use linked list together with unordered map to solve this problem. </p><p>First, we use a linked list L to record pairs of keys and values. Each time we insert a new pair (key,value), we use the map to mark the position of it.</p><p>Then, for each get(key) operation, we can locate the pair (key,value) using the map in O(1) time. We also need to move the pair to the beginning of the linked list, since it is just used. Don’t forget to modify map[key] as the position of pair (key,value) changed.</p><p>As for the set(key,value) operation,</p><ol><li>If (key,previous_value) already exits in the list, we erase it and insert the new pair.</li><li>If key is not already present, we need to check the capacity first. If the cache has reached its capacity, we erase the least recently used item, i.e. the pair at the end of the linked list. Then we insert the new pair to the beginning.<br>And of course, we need to maintain the map in the above process.</li></ol><p>The time complexities of get and set operations are both O(1), since the map is unordered.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">int</span> cap, used;</div><div class="line">    <span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; l;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;::iterator&gt; position;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">    * @param capacity: An integer</div><div class="line">    */</div><div class="line">    LRUCache(<span class="keyword">int</span> capacity) &#123;</div><div class="line">        cap = capacity;</div><div class="line">        used = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">     * @param key: An integer</div><div class="line">     * @return: An integer</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(position.count(key) == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;::iterator it = position[key];</div><div class="line">            <span class="keyword">int</span> res = (*it).second;</div><div class="line">            <span class="keyword">if</span> (it != l.begin())</div><div class="line">            &#123;</div><div class="line">                l.insert(l.begin(),make_pair(key,res));</div><div class="line">                l.erase(it);</div><div class="line">                position[key] = l.begin();</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">     * @param key: An integer</div><div class="line">     * @param value: An integer</div><div class="line">     * @return: nothing</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (cap &lt;= <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (position.count(key) == <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span> (used &gt;= cap)</div><div class="line">            &#123;</div><div class="line">                <span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;::iterator it = l.end();</div><div class="line">                --it;</div><div class="line">                position.erase((*it).first);</div><div class="line">                l.erase(it);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                ++used;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;::iterator it = position[key];</div><div class="line">            l.erase(it);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        l.insert(l.begin(),make_pair(key,value));</div><div class="line">        position[key] = l.begin();</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Problem-Summary&quot;&gt;&lt;a href=&quot;#Problem-Summary&quot; class=&quot;headerlink&quot; title=&quot;Problem Summary&quot;&gt;&lt;/a&gt;Problem Summary&lt;/h1&gt;&lt;p&gt;Design and implement a data structure for Least Recently Used (LRU) cache. It should support the following operations: get and set.&lt;/p&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="https://suzyz.github.io/categories/Algorithm/"/>
    
    
      <category term="LintCode" scheme="https://suzyz.github.io/tags/LintCode/"/>
    
      <category term="Linked List" scheme="https://suzyz.github.io/tags/Linked-List/"/>
    
  </entry>
  
</feed>
